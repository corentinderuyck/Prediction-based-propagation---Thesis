<instance format="XCSP3" type="COP">
  <variables>
    <array id="x" note="x[t][i] is the value of the ith element of the vector at time t" size="[21][10]"> 1..10 </array>
    <array id="y" note="y[t] is the rotation chosen at time t (0 for none)" size="[20]"> 0..7 </array>
    <var id="z" note="z is the actual number of performed rotations"> 0..20 </var>
    <array id="aux_gb" note="aux_gb[i] is the ith auxiliary variable having been automatically introduced" size="[1]"> 0..19 </array>
  </variables>

  <constraints>
    <instantiation note="setting the initial board">
      <list> x[0][] </list>
      <values> 7 10 1 3 5 4 6 2 9 8 </values>
    </instantiation>

    <element note="computing when it is finished">
      <list> y[0..19] </list>
      <index> aux_gb[0] </index>
      <value> 0 </value>
    </element>
    <extension>
      <list> z aux_gb[0] </list>
      <supports>
        (0,0)(1,1)(2,2)(3,3)(4,4)(5,5)(6,6)(7,7)(8,8)(9,9)
        (10,10)(11,11)(12,12)(13,13)(14,14)(15,15)(16,16)(17,17)(18,18)(19,19)
        (20,0)(20,1)(20,2)(20,3)(20,4)(20,5)(20,6)(20,7)(20,8)(20,9)
        (20,10)(20,11)(20,12)(20,13)(20,14)(20,15)(20,16)(20,17)(20,18)(20,19)
      </supports>
    </extension>

    <group class="redundant-constraints">
      <allDifferent> %... </allDifferent>
      <args> x[1][] </args>
      <args> x[2][] </args>
      <args> x[3][] </args>
      <args> x[4][] </args>
      <args> x[5][] </args>
      <args> x[6][] </args>
      <args> x[7][] </args>
      <args> x[8][] </args>
      <args> x[9][] </args>
      <args> x[10][] </args>
      <args> x[11][] </args>
      <args> x[12][] </args>
      <args> x[13][] </args>
      <args> x[14][] </args>
      <args> x[15][] </args>
      <args> x[16][] </args>
      <args> x[17][] </args>
      <args> x[18][] </args>
      <args> x[19][] </args>
      <args> x[20][] </args>
    </group>

    <group note="no more changes when finished">
      <intension> iff(eq(%0,0),and(eq(%1,%2),eq(%3,%4),eq(%5,%6),eq(%7,%8),eq(%9,%10),eq(%11,%12),eq(%13,%14),eq(%15,%16),eq(%17,%18),eq(%19,%20))) </intension>
      <args> y[0] x[0..1][0] x[0..1][1] x[0..1][2] x[0..1][3] x[0..1][4] x[0..1][5] x[0..1][6] x[0..1][7] x[0..1][8] x[0..1][9] </args>
      <args> y[1] x[1..2][0] x[1..2][1] x[1..2][2] x[1..2][3] x[1..2][4] x[1..2][5] x[1..2][6] x[1..2][7] x[1..2][8] x[1..2][9] </args>
      <args> y[2] x[2..3][0] x[2..3][1] x[2..3][2] x[2..3][3] x[2..3][4] x[2..3][5] x[2..3][6] x[2..3][7] x[2..3][8] x[2..3][9] </args>
      <args> y[3] x[3..4][0] x[3..4][1] x[3..4][2] x[3..4][3] x[3..4][4] x[3..4][5] x[3..4][6] x[3..4][7] x[3..4][8] x[3..4][9] </args>
      <args> y[4] x[4..5][0] x[4..5][1] x[4..5][2] x[4..5][3] x[4..5][4] x[4..5][5] x[4..5][6] x[4..5][7] x[4..5][8] x[4..5][9] </args>
      <args> y[5] x[5..6][0] x[5..6][1] x[5..6][2] x[5..6][3] x[5..6][4] x[5..6][5] x[5..6][6] x[5..6][7] x[5..6][8] x[5..6][9] </args>
      <args> y[6] x[6..7][0] x[6..7][1] x[6..7][2] x[6..7][3] x[6..7][4] x[6..7][5] x[6..7][6] x[6..7][7] x[6..7][8] x[6..7][9] </args>
      <args> y[7] x[7..8][0] x[7..8][1] x[7..8][2] x[7..8][3] x[7..8][4] x[7..8][5] x[7..8][6] x[7..8][7] x[7..8][8] x[7..8][9] </args>
      <args> y[8] x[8..9][0] x[8..9][1] x[8..9][2] x[8..9][3] x[8..9][4] x[8..9][5] x[8..9][6] x[8..9][7] x[8..9][8] x[8..9][9] </args>
      <args> y[9] x[9..10][0] x[9..10][1] x[9..10][2] x[9..10][3] x[9..10][4] x[9..10][5] x[9..10][6] x[9..10][7] x[9..10][8] x[9..10][9] </args>
      <args> y[10] x[10..11][0] x[10..11][1] x[10..11][2] x[10..11][3] x[10..11][4] x[10..11][5] x[10..11][6] x[10..11][7] x[10..11][8] x[10..11][9] </args>
      <args> y[11] x[11..12][0] x[11..12][1] x[11..12][2] x[11..12][3] x[11..12][4] x[11..12][5] x[11..12][6] x[11..12][7] x[11..12][8] x[11..12][9] </args>
      <args> y[12] x[12..13][0] x[12..13][1] x[12..13][2] x[12..13][3] x[12..13][4] x[12..13][5] x[12..13][6] x[12..13][7] x[12..13][8] x[12..13][9] </args>
      <args> y[13] x[13..14][0] x[13..14][1] x[13..14][2] x[13..14][3] x[13..14][4] x[13..14][5] x[13..14][6] x[13..14][7] x[13..14][8] x[13..14][9] </args>
      <args> y[14] x[14..15][0] x[14..15][1] x[14..15][2] x[14..15][3] x[14..15][4] x[14..15][5] x[14..15][6] x[14..15][7] x[14..15][8] x[14..15][9] </args>
      <args> y[15] x[15..16][0] x[15..16][1] x[15..16][2] x[15..16][3] x[15..16][4] x[15..16][5] x[15..16][6] x[15..16][7] x[15..16][8] x[15..16][9] </args>
      <args> y[16] x[16..17][0] x[16..17][1] x[16..17][2] x[16..17][3] x[16..17][4] x[16..17][5] x[16..17][6] x[16..17][7] x[16..17][8] x[16..17][9] </args>
      <args> y[17] x[17..18][0] x[17..18][1] x[17..18][2] x[17..18][3] x[17..18][4] x[17..18][5] x[17..18][6] x[17..18][7] x[17..18][8] x[17..18][9] </args>
      <args> y[18] x[18..19][0] x[18..19][1] x[18..19][2] x[18..19][3] x[18..19][4] x[18..19][5] x[18..19][6] x[18..19][7] x[18..19][8] x[18..19][9] </args>
      <args> y[19] x[19..20][0] x[19..20][1] x[19..20][2] x[19..20][3] x[19..20][4] x[19..20][5] x[19..20][6] x[19..20][7] x[19..20][8] x[19..20][9] </args>
    </group>

    <element>
      <list> x[0..20][0] </list>
      <index> z </index>
      <value> 1 </value>
    </element>
    <element>
      <list> x[0..20][1] </list>
      <index> z </index>
      <value> 2 </value>
    </element>
    <element>
      <list> x[0..20][2] </list>
      <index> z </index>
      <value> 3 </value>
    </element>
    <element>
      <list> x[0..20][3] </list>
      <index> z </index>
      <value> 4 </value>
    </element>
    <element>
      <list> x[0..20][4] </list>
      <index> z </index>
      <value> 5 </value>
    </element>
    <element>
      <list> x[0..20][5] </list>
      <index> z </index>
      <value> 6 </value>
    </element>
    <element>
      <list> x[0..20][6] </list>
      <index> z </index>
      <value> 7 </value>
    </element>
    <element>
      <list> x[0..20][7] </list>
      <index> z </index>
      <value> 8 </value>
    </element>
    <element>
      <list> x[0..20][8] </list>
      <index> z </index>
      <value> 9 </value>
    </element>
    <element>
      <list> x[0..20][9] </list>
      <index> z </index>
      <value> 10 </value>
    </element>
  </constraints>

  <objectives>
    <maximize note="minimizing the number of steps"> z </maximize>
  </objectives>
</instance>
